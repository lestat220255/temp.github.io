---
layout:     post
title:      "开始在ubuntu下工作"
subtitle:   "弄完科学上网和docker系列就差不多可以开工了"
date:       2018-09-24 22:41:30
author:     "Lestat"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - docker
    - 科学上网
    - linux
---

## 由来
家里的PC机有几个月没用了,昨天刚开机,发现SSD识别不了,经过排查,确定是盘坏了,然后只能重装  
之前用的win10做开发环境,但是觉得windows还是更适合作为游戏机存在,家里又有台MBP,因此考虑到没怎么用过linux桌面版的情况,决定感受下ubuntu

## 分区
PC配置是12GB内存,硬盘是1T+5T,1T的硬盘装数据装得差不多了,5T的还有4个T没分区,因此直接装在了5T这个盘上,200G挂载在`/`目录,100G挂载在`/home`目录,14G分到`SWAP`交换分区,500M分到`EFI`启动分区,BIOS中进行了UEFI启动配置

## 科学上网
linux下面的科学上网相比于windows,darwin,android,ios系统相对繁琐,首先安装好ss,开启ss后配置系统代理到ss中的本地端口  
如果要实现浏览器根据GFWList规则上网,以chrome来说,需要下载一个插件:[SwitchyOmega](https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif?hl=zh-CN),并按照[流程](https://github.com/FelisCatus/SwitchyOmega/wiki/GFWList)配置  
如果要实现terminal科学上网,则需要安装`proxychains`  
```shell
sudo apt-get install proxychains
```
编辑配置文件  
```shell
mkdir -p /home/lestat/.proxychains/
sudo vim ~/.proxychains/proxychains.conf
```
如下配置(协议,ip,端口根据实际情况配置)
```
strict_chain
proxy_dns
remote_dns_subnet 224
tcp_read_time_out 15000
tcp_connect_time_out 8000
localnet 127.0.0.0/255.0.0.0
quiet_mode
[ProxyList]
socks5 127.0.0.1 1080
```
之后在需要ss的命令前加`proxychains`,如:
```
sudo proxychains git clone https://github.com/lestat220255/docker-lnmp.git
```

## docker开发环境
在安装完`docker`和`docker-compose`之后,使用我之前写的脚本,快速搭建docker+nginx+php+mysql+redis的开发环境,同时支持各种服务的多版本并存,后期开发非常方便,摆脱了集成环境的同类服务只能运行一个版本的约束
```
sudo proxychains git clone https://github.com/lestat220255/docker-lnmp.git
cd docker-lnmp && chmod u+x ./init.sh && ./init.sh
```

```
Good Night!
```